!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["graphology-gremlin"]=t():e["graphology-gremlin"]=t()}(this,(function(){return(()=>{"use strict";var e=[,(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GraphTraversalSource=void 0;const s=r(2),n=r(8),a=r(12),o=r(14),i=r(15),d=r(16);t.GraphTraversalSource=class{constructor(e){this.config=s.DEFAULT_GRAPH_CONFIGURATION,this.graph=e}with(e,t){return this.config[e]=t,this}V(...e){const t=new n.GraphTraversal(this.graph,this.config);t.addStep(new d.VStep(t));const r=(e.length>0?e:this.graph.nodes()).map((e=>new s.Traverser(e)));return t.addStart(r[Symbol.iterator]()),t}addV(){const e=new n.GraphTraversal(this.graph,this.config);e.addStep(new o.AddVStep(e));return e.addStart([null][Symbol.iterator]()),e}E(...e){const t=new n.GraphTraversal(this.graph,this.config);t.addStep(new i.EStep(t));const r=(e.length>0?e:this.graph.edges()).map((e=>new s.Traverser(e)));return t.addStart(r[Symbol.iterator]()),t}addE(){const e=new n.GraphTraversal(this.graph,this.config);e.addStep(new a.AddEStep(e));return e.addStart([null][Symbol.iterator]()),e}inject(){throw new Error("Not implemented")}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_GRAPH_CONFIGURATION=t.Traverser=t.Path=t.Vertex=t.Edge=void 0;const s=r(3);Object.defineProperty(t,"Edge",{enumerable:!0,get:function(){return s.Edge}});const n=r(4);Object.defineProperty(t,"Vertex",{enumerable:!0,get:function(){return n.Vertex}});const a=r(5);Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return a.Path}});const o=r(6);Object.defineProperty(t,"Traverser",{enumerable:!0,get:function(){return o.Traverser}});const i=r(7);Object.defineProperty(t,"DEFAULT_GRAPH_CONFIGURATION",{enumerable:!0,get:function(){return i.DEFAULT_GRAPH_CONFIGURATION}})},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Edge=void 0;t.Edge=class{constructor(e){this.id=null,e&&(this.id=e)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vertex=void 0;t.Vertex=class{constructor(e,t=[],r={}){this.id=e,this.labels=t,this.properties=r}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;const s=r(4);t.Path=class{constructor(e){if(this.segments=[],e instanceof s.Vertex)this.source=e;else{if(0===e.length)throw new Error("Can't build a path with an empty array");this.segments=e,this.source=this.segments[0].source,this.target=this.segments[this.segments.length-1].target}}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Traverser=void 0;class r{constructor(e,t){this.value=e,t&&(this.path=t)}get(){return this.value}getPath(){return this.path}makeNextTraverser(e,t){const s=[].concat(this.path);return s.push({label:e,value:t}),new r(t,s)}}t.Traverser=r},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_GRAPH_CONFIGURATION=void 0,t.DEFAULT_GRAPH_CONFIGURATION={vertex_label_field:"@labels",edge_label_field:"@type"}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GraphTraversal=void 0;const s=r(9);t.GraphTraversal=class{constructor(e,t){this.steps=[],this.target=null,this.graph=e,this.config=t}next(){return this.getTarget().next()}addStep(e){return this.steps.push(e),this}addStart(e){return this.start=e,this}getGraph(){return this.graph}getConfig(){return this.config}getTarget(){if(null===this.target){let e=this.start;this.steps.forEach((t=>{t.addStart(e),e=t})),this.target=e}return this.target}hasLabel(e){return this.addStep(new s.HasLabelStep(this,e)),this}toList(){const e=[];let t=this.next();for(;!t.done;)e.push(t.value),t=this.next();return e}toSet(){const e=new Set;let t=this.next();for(;!t.done;)e.add(t.value),t=this.next();return e}explain(){throw new Error("Not implemented")}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HasLabelStep=void 0;const s=r(10);class n extends s.FilterStep{constructor(e,t){super("hasLabel",e,(e=>e.value.labels.includes(t)))}}t.HasLabelStep=n},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStep=void 0;const s=r(11);class n extends s.Step{constructor(e,t,r){super(t),this.label=e,this.fn=r}getLabel(){return this.label}next(){let e=this.start.next(),t=!1;for(;!e.done&&!t;)t=this.fn(e.value),t||(e=this.start.next());return e}}t.FilterStep=n},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Step=void 0;t.Step=class{constructor(e){this.start=null,this.traversal=e}addStart(e){this.start=e}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddEStep=void 0;const s=r(2),n=r(13);class a extends n.MapStep{constructor(e){super("AddE",e,(()=>new s.Edge))}}t.AddEStep=a},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MapStep=void 0;const s=r(11);class n extends s.Step{constructor(e,t,r){super(t),this.label=e,this.fn=r}getLabel(){return this.label}next(){const e=this.start.next();if(e.done)return e;{const t=e.value;return{done:e.done,value:t.makeNextTraverser(this.getLabel(),this.fn(t))}}}}t.MapStep=n},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddVStep=void 0;const s=r(2),n=r(13);class a extends n.MapStep{constructor(e){super("AddV",e,(()=>{const t=e.getGraph().addNode((new Date).getTime());return new s.Vertex(t)}))}}t.AddVStep=a},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EStep=void 0;const s=r(2),n=r(13);class a extends n.MapStep{constructor(e){super("E",e,(e=>new s.Edge(e.value)))}}t.EStep=a},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VStep=void 0;const s=r(2),n=r(13);class a extends n.MapStep{constructor(e){super("V",e,(t=>{const r=t.value,n=e.getGraph().getNodeAttributes(r);return new s.Vertex(r,n[e.getConfig().vertex_label_field]||[],n)}))}}t.VStep=a}],t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,r),a.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.GraphTraversalSource=void 0;const t=r(1);Object.defineProperty(e,"GraphTraversalSource",{enumerable:!0,get:function(){return t.GraphTraversalSource}})})(),s})()}));
//# sourceMappingURL=rgraphology-gremlin.min.js.map